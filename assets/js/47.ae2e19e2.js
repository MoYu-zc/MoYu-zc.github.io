(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{466:function(s,a,t){"use strict";t.r(a);var e=t(15),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"redis数据类型及命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis数据类型及命令"}},[s._v("#")]),s._v(" Redis数据类型及命令")]),s._v(" "),t("h2",{attrs:{id:"基本数据类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本数据类型"}},[s._v("#")]),s._v(" 基本数据类型")]),s._v(" "),t("h3",{attrs:{id:"string-字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#string-字符串"}},[s._v("#")]),s._v(" String - 字符串")]),s._v(" "),t("blockquote",[t("p",[s._v("我提前存入了两个数据 "),t("code",[s._v("k:v")]),s._v(" 、"),t("code",[s._v("z:c")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420193746.png",alt:"10"}})]),s._v(" "),t("h4",{attrs:{id:"追加字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#追加字符串"}},[s._v("#")]),s._v(" "),t("strong",[s._v("追加字符串")])]),s._v(" "),t("p",[s._v("追加字符串,如果当前可以不存在就相当于 "),t("code",[s._v("set")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("APPEND xxx value\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"获取字符串长度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取字符串长度"}},[s._v("#")]),s._v(" 获取字符串长度")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("STRLEN XXX\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420212322.png",alt:"11"}})]),s._v(" "),t("h4",{attrs:{id:"自动加-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动加-1"}},[s._v("#")]),s._v(" 自动加 1")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("INCR XXX\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"自动减-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自动减-1"}},[s._v("#")]),s._v(" 自动减 1")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("DECR XXX\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"设置步长，指定增量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置步长，指定增量"}},[s._v("#")]),s._v(" 设置步长，指定增量")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("INCRBY XXX 数值\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"设置步长，指定减量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置步长，指定减量"}},[s._v("#")]),s._v(" 设置步长，指定减量")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("DECRBY XXX 数值 \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420213038.png",alt:"12"}})]),s._v(" "),t("h4",{attrs:{id:"截取字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#截取字符串"}},[s._v("#")]),s._v(" 截取字符串")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("GETRANGE k "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#截取字符串[0,3] ")]),s._v("\n\nGETRANGE k "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获得全部的字符串")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"替换指定位置开始的字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#替换指定位置开始的字符串"}},[s._v("#")]),s._v(" 替换指定位置开始的字符串")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("SETRANGE k "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" xx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420213717.png",alt:"13"}})]),s._v(" "),t("h4",{attrs:{id:"设置过期时间"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置过期时间"}},[s._v("#")]),s._v(" 设置过期时间")]),s._v(" "),t("blockquote",[t("p",[s._v("setex ( set with expire )")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("setex k "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" hello   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#存入数据 k:"hello" 有效时间 10s')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420215118.png",alt:"13"}})]),s._v(" "),t("h4",{attrs:{id:"不存在-再设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不存在-再设置"}},[s._v("#")]),s._v(" 不存在 再设置")]),s._v(" "),t("blockquote",[t("p",[s._v("setnx ( set if not exist)")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("setnx k "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#如果 k 不存在，存入数据 k:"11"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420215348.png",alt:"15"}})]),s._v(" "),t("h4",{attrs:{id:"同时设置多个值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#同时设置多个值"}},[s._v("#")]),s._v(" 同时设置多个值")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("mset k1 v1 k2 v2 k3 v3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"同时获取多个值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#同时获取多个值"}},[s._v("#")]),s._v(" 同时获取多个值")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("mget k1 k2 k3\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"多个值不存在-再设置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多个值不存在-再设置"}},[s._v("#")]),s._v(" 多个值不存在  再设置")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("msetnx k1 v1 k4 v4   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 该操作是一个原子性操作，一个失败 全部失败")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420220143.png",alt:"16"}})]),s._v(" "),t("h4",{attrs:{id:"存取对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存取对象"}},[s._v("#")]),s._v(" 存取对象")]),s._v(" "),t("blockquote",[t("p",[s._v("user : {id} : {filed}")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("mset user:1:name zc user:1:age "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("   \n\nmget user:1:name user:1:age\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420222339.png",alt:"17"}})]),s._v(" "),t("h4",{attrs:{id:"先获取再存入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#先获取再存入"}},[s._v("#")]),s._v(" 先获取再存入")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("getset k "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("v")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420222743.png",alt:"18"}})]),s._v(" "),t("h3",{attrs:{id:"list-列表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#list-列表"}},[s._v("#")]),s._v(" List - 列表")]),s._v(" "),t("blockquote",[t("p",[s._v("在redis里面，我们可以把 "),t("code",[s._v("list")]),s._v(" 变成，栈、队列、阻塞队列")])]),s._v(" "),t("h4",{attrs:{id:"存入数据-头插"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存入数据-头插"}},[s._v("#")]),s._v(" 存入数据(头插)")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("LPUSH list one             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 存入list列表,数据为 one")]),s._v("\n  \nLPUSH list two three       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 存入list列表，数据为 two、three")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"存入数据-尾插"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存入数据-尾插"}},[s._v("#")]),s._v(" 存入数据(尾插)")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("RPUSH list right           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 存入list列表，数据为 right")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"获取指定范围数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取指定范围数据"}},[s._v("#")]),s._v(" 获取指定范围数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("LRANGE list "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取list列表 0 1 数据")]),s._v("\n                          \nLRANGE list "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取list列表全部数据")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420230545.png",alt:"19"}})]),s._v(" "),t("h4",{attrs:{id:"取出数据-从头部"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#取出数据-从头部"}},[s._v("#")]),s._v(" 取出数据(从头部)")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("LPOP xxx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"取出数据-从尾部"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#取出数据-从尾部"}},[s._v("#")]),s._v(" 取出数据(从尾部)")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("RPOP xxx\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"通过下标获得值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过下标获得值"}},[s._v("#")]),s._v(" 通过下标获得值")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lindex xxx index\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"获取列表长度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取列表长度"}},[s._v("#")]),s._v(" 获取列表长度")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("llen xxx          \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420231408.png",alt:"20"}})]),s._v(" "),t("h4",{attrs:{id:"移除指定值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#移除指定值"}},[s._v("#")]),s._v(" 移除指定值")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lrem list "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" two         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除list列表中 2 个 two ， 移除数量多于现存数量的话，会全部移除 不报错")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420232414.png",alt:"21"}})]),s._v(" "),t("h4",{attrs:{id:"截取指定长度数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#截取指定长度数据"}},[s._v("#")]),s._v(" 截取指定长度数据")]),s._v(" "),t("blockquote",[t("p",[s._v("通过下标，截取指定长度数据，会直接改变原列表")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("ltrim list "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 截取list列表，1-2 元素")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420232959.png",alt:"22"}})]),s._v(" "),t("h4",{attrs:{id:"移除列表中元素，移动到新的列表中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#移除列表中元素，移动到新的列表中"}},[s._v("#")]),s._v(" 移除列表中元素，移动到新的列表中")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("rpoplpush list list1   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除list列表的最后一个元素，将他移动到list1列表中 ")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420233523.png",alt:"23"}})]),s._v(" "),t("h4",{attrs:{id:"替换指定位置的值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#替换指定位置的值"}},[s._v("#")]),s._v(" 替换指定位置的值")]),s._v(" "),t("blockquote",[t("p",[s._v("对于该语句，要满足：")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("存在该list列表")])]),s._v(" "),t("li",[t("strong",[s._v("列表中指定位置有数据")])])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("lset list "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将list列表第0个位置的数据替换为test")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420234154.png",alt:"24"}})]),s._v(" "),t("h4",{attrs:{id:"插入具体值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插入具体值"}},[s._v("#")]),s._v(" 插入具体值")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("LINSERT list before v3 v2   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在list列表中的v3数据 前 插入v2")]),s._v("\n\nLINSERT list after v3 v4    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 在list列表中的v3数据 后 插入v4")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210420234708.png",alt:"25"}})]),s._v(" "),t("h3",{attrs:{id:"set-集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#set-集合"}},[s._v("#")]),s._v(" Set - 集合")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("set中是不能重复读的")])])]),s._v(" "),t("h4",{attrs:{id:"保存获取数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#保存获取数据"}},[s._v("#")]),s._v(" 保存获取数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("sadd "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" hello           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#存入一个数据，存入hello到set集合中")]),s._v("\n\nsadd "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" v1 v2 v3        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#存入多个数据，存入v1、v2、v3到set集合中")]),s._v("\n\nsmembers "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v("             "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看set集合中所有数据")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422172722.png",alt:"17"}})]),s._v(" "),t("h4",{attrs:{id:"判断值是否在集合中"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#判断值是否在集合中"}},[s._v("#")]),s._v(" 判断值是否在集合中")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("sismember "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" hello    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#判断hello是否在set集合中")]),s._v("\n \nsismember "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" v1       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#判断v1是否在set集合中")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422172843.png",alt:"18"}})]),s._v(" "),t("h4",{attrs:{id:"获取set集合数据个数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取set集合数据个数"}},[s._v("#")]),s._v(" 获取set集合数据个数")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("scard "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v("     \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422173117.png",alt:"19"}})]),s._v(" "),t("h4",{attrs:{id:"移除set集合指定元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#移除set集合指定元素"}},[s._v("#")]),s._v(" 移除set集合指定元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("srem "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" hello        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#set集合中移除hello")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422173322.png",alt:"20"}})]),s._v(" "),t("h4",{attrs:{id:"随机获取元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#随机获取元素"}},[s._v("#")]),s._v(" 随机获取元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("srandmember "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#随机获取set集合1个元素")]),s._v("\n\nsrandmember "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#随机获取set集合2个元素")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422173645.png",alt:"21"}})]),s._v(" "),t("h4",{attrs:{id:"随机删除元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#随机删除元素"}},[s._v("#")]),s._v(" 随机删除元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("spop "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v("              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#随机删除1个元素")]),s._v("\n\nspop "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("            "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#随机删除2个元素")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422173909.png",alt:"22"}})]),s._v(" "),t("h4",{attrs:{id:"将指定值移动另一个集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将指定值移动另一个集合"}},[s._v("#")]),s._v(" 将指定值移动另一个集合")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("smove "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" set1 v2    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将v2元素从set集合移动到set1集合")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422174119.png",alt:"23"}})]),s._v(" "),t("h4",{attrs:{id:"数字集合类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数字集合类"}},[s._v("#")]),s._v(" 数字集合类")]),s._v(" "),t("ul",[t("li",[s._v("差集")]),s._v(" "),t("li",[s._v("交集")]),s._v(" "),t("li",[s._v("并集")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sdiff")]),s._v(" set1 set2     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#set1集合和set2集合的差集(set1存在，set2不存在)")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("sinter set1 set2    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#set1、set2集合中的交集，即两者都存在的元素")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("sunion set1 set2    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#set1、set2并集")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422174752.png",alt:"24"}})]),s._v(" "),t("h3",{attrs:{id:"hash-哈希"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hash-哈希"}},[s._v("#")]),s._v(" Hash - 哈希")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("Map集合,key-may,这个值是map集合,本质和string类型没有太大区别,还是一个key-value")])]),s._v(" "),t("p",[t("strong",[s._v("hash更适合存储对象,string更适字符串存储")])])]),s._v(" "),t("h4",{attrs:{id:"存入一个元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存入一个元素"}},[s._v("#")]),s._v(" 存入一个元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hset "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" k "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("v")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#存入hash集合，k-v")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"获取一个元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取一个元素"}},[s._v("#")]),s._v(" 获取一个元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hget "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" k         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取hash集合 k元素对应v")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"存入多个元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#存入多个元素"}},[s._v("#")]),s._v(" 存入多个元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hmset "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" k1 v1 k2 v2   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#存入hash集合 k1-v1 k2-v2")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"获得多个元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获得多个元素"}},[s._v("#")]),s._v(" 获得多个元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hmget "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" k1 k2     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取hash集合 k1、k2元素对应v")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"获取全部数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取全部数据"}},[s._v("#")]),s._v(" 获取全部数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hgetall "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"获取集合中字段数量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取集合中字段数量"}},[s._v("#")]),s._v(" 获取集合中字段数量")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hlen "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"删除对应元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除对应元素"}},[s._v("#")]),s._v(" 删除对应元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hdel "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" k          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#删除hash集合，k字段")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422180155.png",alt:"25"}})]),s._v(" "),t("h4",{attrs:{id:"获得所有k字段"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获得所有k字段"}},[s._v("#")]),s._v(" 获得所有k字段")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hkeys "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"获得所有value"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获得所有value"}},[s._v("#")]),s._v(" 获得所有value")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hvals "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"判断指定字段是否存在"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#判断指定字段是否存在"}},[s._v("#")]),s._v(" 判断指定字段是否存在")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hexists "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" k1      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#判断hash集合中k1字段是否存在")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422180452.png",alt:"26"}})]),s._v(" "),t("h4",{attrs:{id:"增加指定增量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#增加指定增量"}},[s._v("#")]),s._v(" 增加指定增量")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hincrby "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" k "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#hash集合k字段的v+2")]),s._v("\n\nhincrby "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" k -1      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#hash集合k字段的v-1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422180928.png",alt:"27"}})]),s._v(" "),t("h4",{attrs:{id:"不存在-再设置-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不存在-再设置-2"}},[s._v("#")]),s._v(" 不存在 再设置")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("hsetnx "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("hash")]),s._v(" k4 v4     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#hash集合中 k4字段不存在的话，存入k4-v4")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422181229.png",alt:"28"}})]),s._v(" "),t("h3",{attrs:{id:"zset-有序集合"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#zset-有序集合"}},[s._v("#")]),s._v(" Zset - 有序集合")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("set集合中 , set k1 v1    ;   它是一个无序不重复集合")])]),s._v(" "),t("p",[t("strong",[s._v("zset集合中，zset k1 score1 v1  ； 它是一个有序不重复集合")])])]),s._v(" "),t("h4",{attrs:{id:"添加集合中的值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加集合中的值"}},[s._v("#")]),s._v(" 添加集合中的值")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("zadd zset "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" one          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加zset集合元素one，顺序为1")]),s._v("\n\nzadd zset "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" two "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" three  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#添加zset集合元素two、three，顺序为2、3")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"获得范围内的集合值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获得范围内的集合值"}},[s._v("#")]),s._v(" 获得范围内的集合值")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("zrange zset "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取全部集合值")]),s._v("\n\nzrange zset "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取集合中0-1的值")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422182407.png",alt:"29"}})]),s._v(" "),t("h4",{attrs:{id:"获得集合中的个数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获得集合中的个数"}},[s._v("#")]),s._v(" 获得集合中的个数")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("zcard zset\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"从小到大，显示全部数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从小到大，显示全部数据"}},[s._v("#")]),s._v(" 从小到大，显示全部数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("zrangebyscore zset -inf +inf    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#从小到大，显示全部数据")]),s._v("\n\nzrangebyscore zset -inf "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#从小到大，显示最小到2的数据")]),s._v("\n\nzrangebyscore zset -inf "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" withscores "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#从小到大，显示最小到2的数据并且带着排序数字")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"从大到小，显示全部数据"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#从大到小，显示全部数据"}},[s._v("#")]),s._v(" 从大到小，显示全部数据")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("zrevrange zset "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:""}},[t("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")]),s._v(" "),t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422183408.png",alt:"30"}})]),s._v(" "),t("h4",{attrs:{id:"获取指定区间的元素数量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取指定区间的元素数量"}},[s._v("#")]),s._v(" 获取指定区间的元素数量")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("zcount zset "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取0-2的元素数量")]),s._v("\n\nzcount zset "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#获取0-10的元素数量，超过现存最大值，会显示全部数量，不会报错")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"移除集合中指定元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#移除集合中指定元素"}},[s._v("#")]),s._v(" 移除集合中指定元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("zrem zset two           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#移除zset集合中two元素")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422183941.png",alt:"31"}})]),s._v(" "),t("h2",{attrs:{id:"特殊数据类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#特殊数据类型"}},[s._v("#")]),s._v(" 特殊数据类型")]),s._v(" "),t("h3",{attrs:{id:"geospatial-地理位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#geospatial-地理位置"}},[s._v("#")]),s._v(" Geospatial - 地理位置")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("六个命令:")])]),s._v(" "),t("ul",[t("li",[s._v("GEOADD   ： 添加地理位置")]),s._v(" "),t("li",[s._v("GEOPOS   ： 获取指定的城市的精度和纬度")]),s._v(" "),t("li",[s._v("GEODIST  ： 查看两者之间的直线距离")]),s._v(" "),t("li",[s._v("GOERADIUS  ： 以给定的经纬度为中心,找出某一半径内的元素")]),s._v(" "),t("li",[s._v("GEORADIUSBYMEMBER ：找出位于指定元素周围的其他元素")]),s._v(" "),t("li",[s._v("GEOHASH ：返回一个或者多个位置元素的Geohash表示")])])]),s._v(" "),t("blockquote",[t("p",[s._v("中国城市经纬度查询 ：http://www.jsons.cn/lngcode/")])]),s._v(" "),t("h4",{attrs:{id:"添加地理位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#添加地理位置"}},[s._v("#")]),s._v(" 添加地理位置")]),s._v(" "),t("blockquote",[t("p",[s._v("两极无法直接添加,一般会下载城市数据,通过程序一次性导入")])]),s._v(" "),t("blockquote",[t("p",[s._v("有效的经度介于 "),t("strong",[s._v("-180")]),s._v(" 度至 "),t("strong",[s._v("180")]),s._v(" 度之   ;   有效的纬度介于 "),t("strong",[s._v("-85.05112878")]),s._v(" 度至 "),t("strong",[s._v("85.05112878")]),s._v(" 度之间。")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("geoadd china:city "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("116.405285")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("39.904989")]),s._v(" beijing              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#加入中国城市地理位置，经、纬度,beijing")]),s._v("\n\ngeoadd china:city "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("113.665412")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("34.757975")]),s._v(" zhengzhou "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("125.14904")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("42.927")]),s._v(" xian  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#加入两条记录")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"获取指定的城市的精度和纬度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取指定的城市的精度和纬度"}},[s._v("#")]),s._v(" 获取指定的城市的精度和纬度")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("geopos china:city beijing\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422190032.png",alt:"32"}})]),s._v(" "),t("h4",{attrs:{id:"查看两者之间的直线距离"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看两者之间的直线距离"}},[s._v("#")]),s._v(" 查看两者之间的直线距离")]),s._v(" "),t("blockquote",[t("p",[s._v("单位:")]),s._v(" "),t("ul",[t("li",[s._v("["),t("strong",[s._v("默认")]),s._v("] m : 表示单位为米")]),s._v(" "),t("li",[s._v("km : 表示单位为千米")]),s._v(" "),t("li",[s._v("mi : 表示单位为英里")]),s._v(" "),t("li",[s._v("ft : 表示单位为英尺")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("geodist china:city beijing shanghai          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看 北京到上海 的直线距离，默认单位为米")]),s._v("\n\ngeodist china:city zhengzhou xian km         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看 郑州到西安 的直线距离，单位为千米")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422190935.png",alt:"33"}})]),s._v(" "),t("h4",{attrs:{id:"以给定的经纬度为中心-找出某一半径内的元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#以给定的经纬度为中心-找出某一半径内的元素"}},[s._v("#")]),s._v(" 以给定的经纬度为中心,找出某一半径内的元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("georadius china:city "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" km                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以110,30这个经纬度为中心,寻找1500km内的城市")]),s._v("\n\ngeoradius china:city "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" km withdist          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以110,30这个经纬度为中心,寻找1500km内的城市，并显示到中间距离的位置")]),s._v("\n\ngeoradius china:city "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" km withdist count "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以110,30这个经纬度为中心,寻找1500km内的城市，只显示两条，并显示到中间距离的位置")]),s._v("\n\ngeoradius china:city "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" km withcoord         "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以110,30这个经纬度为中心,寻找1500km内的城市，并显示查出城市的定位信息")]),s._v("\n\ngeoradius china:city "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("110")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1500")]),s._v(" km withcoord count "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 以110,30这个经纬度为中心,寻找1500km内的城市，只显示两条，并显示查出城市的定位信息")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("img",{staticStyle:{zoom:"90%"},attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422191822.png",alt:"34"}}),s._v(" "),t("h4",{attrs:{id:"查看指定元素周围的其他元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看指定元素周围的其他元素"}},[s._v("#")]),s._v(" 查看指定元素周围的其他元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("georadiusbymember china:city beijing "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),s._v(" km     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看北京元素1000km以内的其他元素")]),s._v("\n\ngeoradiusbymember china:city shanghai "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),s._v(" km     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看上海元素500km以内的其他元素")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422192224.png",alt:"35"}})]),s._v(" "),t("h4",{attrs:{id:"返回位置元素的geohash表示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#返回位置元素的geohash表示"}},[s._v("#")]),s._v(" 返回位置元素的Geohash表示")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("将二维的经纬度转换为一维的字符串,如果两个字符串越接近,那么则距离越近")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("geohash china:city beijing shanghai xian\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422192523.png",alt:"36"}})]),s._v(" "),t("h4",{attrs:{id:"底层的实现原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#底层的实现原理"}},[s._v("#")]),s._v(" 底层的实现原理")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("GEO 底层的实现原理其实就是 Zset , 我们可以使用 Zset 命令来操作 GEO")])])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" zrange china:city "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看china:city集合中全部元素")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hangzhou"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"shanghai"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zhengzhou"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"beijing"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"xian"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" zrem china:city xian        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 移除china:city集合中xian元素")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" zrem china:city shanghai    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看china:city集合中shanghai元素")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" zrange china:city "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" -1      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看china:city集合中全部元素")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hangzhou"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zhengzhou"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"beijing"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"hyperloglog-基数统计"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hyperloglog-基数统计"}},[s._v("#")]),s._v(" Hyperloglog - 基数统计")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("基数可以比较大小")])]),s._v(" "),t("p",[s._v("A = {1，2，3} = 3    ；   B = {1，2，3，4，4} = 4")]),s._v(" "),t("p",[s._v("基数 { 不重复的元素 } = xxx")])]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("优点 :")]),s._v(" 占用的内存固定 , 2^64(long)不同的元素的技术 , 只需要12KB内存 , 如果要从内存角度"),t("strong",[s._v("Hyperloglog")]),s._v("首选")]),s._v(" "),t("p",[s._v("0.81%错误率 , 可以忽略不计.")])]),s._v(" "),t("h4",{attrs:{id:"创建一组元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建一组元素"}},[s._v("#")]),s._v(" 创建一组元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" pfadd hype a b c d\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"统计元素的基数数量"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#统计元素的基数数量"}},[s._v("#")]),s._v(" 统计元素的基数数量")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("pfcount hype \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"合并两组元素"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#合并两组元素"}},[s._v("#")]),s._v(" 合并两组元素")]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("pfmerge hype2 hype hype1           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将hype、hype1 合并成 hype2")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://gitee.com/MoYu-zc/picgo/raw/master/img/20210422202130.png",alt:"37"}})]),s._v(" "),t("h3",{attrs:{id:"bitmaps-位图场景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bitmaps-位图场景"}},[s._v("#")]),s._v(" Bitmaps - 位图场景")]),s._v(" "),t("blockquote",[t("p",[s._v("位存储")])]),s._v(" "),t("p",[s._v("Bitmaps位图 , 是操作二进制位来进行记录 , 就只有0和1两个状态")]),s._v(" "),t("p",[s._v("365天 = 365bit ；1字节 = 8bit ；46个字节左右")]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("模拟每周打卡")])]),s._v(" "),t("p",[s._v("setbit 名称 日期(0-6) 是否打卡(0没打卡、1已打卡)")])]),s._v(" "),t("div",{staticClass:"language-shell line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" setbit sign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#周一 已打卡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" setbit sign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#周二 已打卡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" setbit sign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#周三 未打卡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" setbit sign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#周四 未打卡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" setbit sign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#周五 已打卡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" setbit sign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#周六 已打卡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" setbit sign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#周日 已打卡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" getbit sign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查询周一是否打卡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" getbit sign "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查询周四是否打卡")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:637"),t("span",{pre:!0,attrs:{class:"token operator"}},[t("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("9")]),s._v(">")]),s._v(" bitcount sign     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查询这周一共打卡几天")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("integer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);